{
  "name": "polymarket-btc-bot",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "start": "bun run src/index.ts",
    "dev": "bun --watch run src/index.ts",
    "db:real": "sqlite3 -header -column trades_real.db \"SELECT id, side, printf('$%.2f', entry_price) as entry, printf('$%.2f', exit_price) as exit, printf('%.1f', shares) as shares, status, printf('$%.2f', pnl) as pnl FROM trades ORDER BY id DESC LIMIT 20; SELECT ''; SELECT 'TOTAL PnL: $' || printf('%.2f', SUM(pnl)) FROM trades;\"",
    "db:paper": "sqlite3 -header -column trades_paper_normal.db \"SELECT id, side, printf('$%.2f', entry_price) as entry, printf('$%.2f', exit_price) as exit, printf('%.1f', shares) as shares, status, printf('$%.2f', pnl) as pnl FROM trades ORDER BY id DESC LIMIT 20; SELECT ''; SELECT 'TOTAL PnL: $' || printf('%.2f', SUM(pnl)) FROM trades;\"",
    "db:risk": "sqlite3 -header -column trades_paper_risk.db \"SELECT id, side, printf('$%.2f', entry_price) as entry, printf('$%.2f', exit_price) as exit, printf('%.1f', shares) as shares, status, printf('$%.2f', pnl) as pnl FROM trades ORDER BY id DESC LIMIT 20; SELECT ''; SELECT 'TOTAL PnL: $' || printf('%.2f', SUM(pnl)) FROM trades;\"",
    "db:stats:real": "sqlite3 trades_real.db \"SELECT COUNT(*) as total, SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) as wins, SUM(CASE WHEN pnl < 0 THEN 1 ELSE 0 END) as losses, printf('%.1f%%', 100.0 * SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) / COUNT(CASE WHEN pnl IS NOT NULL THEN 1 END)) as win_rate, printf('$%.2f', SUM(pnl)) as total_pnl FROM trades;\"",
    "db:stats:paper": "sqlite3 trades_paper_normal.db \"SELECT COUNT(*) as total, SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) as wins, SUM(CASE WHEN pnl < 0 THEN 1 ELSE 0 END) as losses, printf('%.1f%%', 100.0 * SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) / COUNT(CASE WHEN pnl IS NOT NULL THEN 1 END)) as win_rate, printf('$%.2f', SUM(pnl)) as total_pnl FROM trades;\"",
    "db:stats:risk": "sqlite3 trades_paper_risk.db \"SELECT COUNT(*) as total, SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) as wins, SUM(CASE WHEN pnl < 0 THEN 1 ELSE 0 END) as losses, printf('%.1f%%', 100.0 * SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) / COUNT(CASE WHEN pnl IS NOT NULL THEN 1 END)) as win_rate, printf('$%.2f', SUM(pnl)) as total_pnl FROM trades;\"",
    "db:reset:real": "rm -f trades_real.db && echo 'Real trading DB reset'",
    "db:reset:paper": "rm -f trades_paper_normal.db && echo 'Paper normal DB reset'",
    "db:reset:risk": "rm -f trades_paper_risk.db && echo 'Paper risk DB reset'"
  },
  "dependencies": {
    "@polymarket/clob-client": "^4.0.0",
    "ethers": "^5.7.2",
    "ink": "^4.4.1",
    "react": "^18.2.0",
    "ws": "^8.19.0"
  },
  "devDependencies": {
    "@types/bun": "latest",
    "@types/react": "^18.2.0",
    "@types/ws": "^8.18.1",
    "react-devtools-core": "^7.0.1"
  }
}
